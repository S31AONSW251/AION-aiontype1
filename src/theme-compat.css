/* theme-compat.css: compatibility and theme glue for new panels and settings modal */

/* Helpful fallbacks for variable names used by new components */
:root {
  --text-dark: #071426; /* used by ChatPanel light-theme */
  --text-muted: var(--muted, #94a7b8);
  --bg-page-light: #f6f8fa;
  --bg-surface-light: #ffffff;
  --bg-surface-dark: var(--bg-surface);
  --focus-ring: var(--focus, rgba(0,240,255,0.12));
}

/* If theme is applied at chat-container level use same rules as body.light-theme */
.chat-container.light-theme .settings-modal,
body.light-theme .settings-modal,
.chat-container.light-theme.settings-modal,
.settings-modal.light-theme {
  background: rgba(255,255,255,0.28);
}

.chat-container.light-theme .settings-content,
body.light-theme .settings-content,
.settings-content.light-theme {
  background: linear-gradient(180deg, rgba(255,255,255,0.98), rgba(250,250,250,0.96));
  color: var(--text-dark, #071426);
  border: 1px solid rgba(7,20,36,0.04);
  box-shadow: 0 18px 48px rgba(10,12,20,0.12);
}

/* Also accept theme classes on the documentElement for some app variants */
html.light-theme .settings-modal, html.light-theme .settings-content {
  background: rgba(255,255,255,0.28);
}

/* Ensure inputs/selects inherit correct text color in both themes */
.settings-content input, .settings-content select, .settings-content textarea {
  color: inherit;
  background: transparent;
  border: 1px solid rgba(255,255,255,0.04);
}

/* Light mode specific input override for stronger contrast */
body.light-theme .settings-content input,
body.light-theme .settings-content select,
body.light-theme .settings-content textarea,
.chat-container.light-theme .settings-content input,
.chat-container.light-theme .settings-content select,
.chat-container.light-theme .settings-content textarea {
  background: white; color: var(--text-dark); border: 1px solid rgba(3,9,14,0.06);
}

/* Make sure modal overlay uses sensible tint for both themes */
.settings-modal { background: rgba(2,6,23,0.45); }
body.light-theme .settings-modal, .chat-container.light-theme .settings-modal { background: rgba(255,255,255,0.24); }

/* Button and action compatibility: unify variants used across panels */
.action-button, .action-btn { padding: 6px; border-radius: 8px; border: 1px solid var(--border-soft); background: transparent; color: inherit; cursor: pointer; }
.action-button:hover, .action-btn:hover { background: var(--glass); transform: translateY(-2px); }

/* Reaction button parity */
.reaction-emoji, .reaction-btn, .reaction-badge { cursor: pointer; padding: 6px; border-radius: 8px; background: transparent; color: inherit; border: 1px solid rgba(255,255,255,0.02); }

/* Ensure settings modal and other components respect reduced-motion and energy saver */
@media (prefers-reduced-motion: reduce) {
  .settings-content, .settings-modal, .chat-wrapper, .orb-core, .bg-ambient, .bg-particles { transition: none !important; animation: none !important; }
}
